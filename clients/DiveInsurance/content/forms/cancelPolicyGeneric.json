{
	"_id": "5e1568f91411ab41cbd81450",
	"type": "form",
	"tags": [],
	"owner": "5ddfaa682859774314661851",
	"components": [{
		"label": "ApproverName",
		"calculateValue": "if (data.privileges){\n  if(data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE']){\n    value = data['userprofile'].name;\n  }\n}",
		"key": "approverName",
		"type": "hidden",
		"input": true,
		"tableView": false,
		"hideOnChildrenHidden": false
	}, {
		"label": "ApproverEmailId",
		"calculateValue": "if (data.privileges){\n  if(data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE']){\n    value = data['userprofile'].email;\n  }\n}",
		"key": "approverEmailId",
		"type": "hidden",
		"input": true,
		"tableView": false,
		"hideOnChildrenHidden": false
	}, {
		"label": "ApproverDesignation",
		"calculateValue": "if (data.privileges){\n  if(data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE']){\n    value = data['userprofile'].designation;\n  }\n}",
		"key": "approverDesignation",
		"type": "hidden",
		"input": true,
		"tableView": false,
		"hideOnChildrenHidden": false
	}, {
		"label": "Reason for Cancellation",
		"widget": "choicesjs",
		"placeholder": "--Select one--",
		"tableView": true,
		"dataSrc": "custom",
		"data": {
			"values": [{
				"value": "",
				"label": ""
			}],
			"custom": "var list = [{\n    \"label\": \"Non-payment of Premium\",\n    \"value\": \"nonPaymentOfPremium\"\n}, {\n    \"label\": \"PADI Membership not current\",\n    \"value\": \"padiMembershipNotCurrent\"\n}, {\n    \"label\": \"Non-Sufficient Funds\",\n    \"value\": \"nonSufficientFunds\"\n}, {\n    \"label\": \"Others\",\n    \"value\": \"others\"\n}]\nif (data['product'] == 'Dive Boat') {\n    list.push({\n        \"label\": \"Boat Sold\",\n        \"value\": \"boatSold\"\n    })\n}\nif (data['product'] == 'Dive Store') {\n    list.push({\n        \"label\": \"Store Sold\",\n        \"value\": \"storeSold\"\n    });\n    list.push({\n        \"label\": \"Business Closed\",\n        \"value\": \"Business CLosed\"\n    });\n}\nconsole.log(list);\nvalues = list"
		},
		"selectThreshold": 0.3,
		"calculateValue": "if (data.reasonForUserCancellation) {\n    value = data.reasonForUserCancellation;\n   \n}",
		"allowCalculateOverride": true,
		"validate": {
			"required": true,
			"customMessage": "Please select a Reason for Cancellation"
		},
		"key": "csrCancellationReason",
		"customConditional": "if (data.privileges){\n  show = data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] != null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] ? true: false;\n}\nelse {\n  show = false;\n}",
		"type": "select",
		"indexeddb": {
			"filter": {}
		},
		"input": true,
		"lockKey": true,
		"dataGridLabel": false
	}, {
		"label": "Reason for CSR Cancellation",
		"calculateValue": "if(data.csrCancellationReason){\n  value = data.csrCancellationReason;\n}",
		"key": "reasonforCsrCancellation",
		"type": "hidden",
		"input": true,
		"tableView": true,
		"lockKey": true
	}, {
		"label": "Others",
		"autoExpand": false,
		"customClass": "others",
		"tableView": true,
		"inputFormat": "plain",
		"calculateValue": "if(data.othersUser){\n  value = data.othersUser\n}",
		"validate": {
			"required": true
		},
		"key": "othersCsr",
		"customConditional": "if (data.privileges){\n  show = \n  ((data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null) \n  && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] \n  && (data.reasonforCsrCancellation.value =='others')) ? true: false;\n}\nelse{\n  show = false;\n}",
		"type": "textarea",
		"input": true,
		"lockKey": true
	}, {
		"label": "Amount to be paid to Reinstate Policy",
		"labelPosition": "left-left",
		"prefix": "$",
		"mask": false,
		"spellcheck": true,
		"tableView": true,
		"delimiter": true,
		"requireDecimal": false,
		"inputFormat": "plain",
		"clearOnHide": false,
		"validate": {
			"required": true,
			"customMessage": "Please enter the Amount to be paid to Reinstate Policy"
		},
		"key": "reinstateAmount",
		"customConditional": "show = data.reasonforCsrCancellation.value == 'nonSufficientFunds' || data.reasonforCsrCancellation.value =='nonPaymentOfPremium' && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] ? true : false;",
		"type": "number",
		"labelWidth": 30,
		"labelMargin": 3,
		"decimalLimit": 0,
		"input": true,
		"inputType": "number",
		"lockKey": true
	}, {
		"label": "Effective Date",
		"displayInTimezone": "utc",
		"allowInput": false,
		"format": "MM-dd-yyyy",
		"tableView": false,
		"enableMinDateInput": false,
		"datePicker": {
			"disableWeekends": false,
			"disableWeekdays": false,
			"datepickerMode": "day"
		},
		"enableMaxDateInput": false,
		"enableTime": false,
		"timePicker": {
			"showMeridian": false
		},
		"clearOnHide": false,
		"allowCalculateOverride": true,
		"validate": {
			"required": true,
			"custom": "if (data.cancellationDate){ \n  valid = ((moment(data.cancellationDate).diff(moment(data['start_date'])) >=0) && (moment(data.cancellationDate).diff(moment(data.end_date)) <=0)) ? true : \"Effective date should be between policy period\";\n}"
		},
		"key": "cancellationDate",
		"customConditional": "if (data.privileges){\n  show = data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] != null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] ? true: false;\n}\nelse {\n  show = false;\n}",
		"type": "datetime",
		"input": true,
		"widget": {
			"type": "calendar",
			"displayInTimezone": "utc",
			"locale": "en",
			"useLocaleSettings": false,
			"allowInput": false,
			"mode": "single",
			"enableTime": false,
			"noCalendar": false,
			"format": "MM-dd-yyyy",
			"hourIncrement": 1,
			"minuteIncrement": 1,
			"time_24hr": true,
			"minDate": null,
			"disableWeekends": false,
			"disableWeekdays": false,
			"maxDate": null
		},
		"hideOnChildrenHidden": false
	}, {
		"label": "CancelDate",
		"calculateValue": "value = data['cancellationDate'] ? moment(data['cancellationDate']).format(\"YYYY-MM-DD\") : moment().format(\"YYYY-MM-DD\");",
		"key": "cancelDate",
		"type": "hidden",
		"input": true,
		"tableView": false
	}, {
		"label": "Cancellation Status:",
		"optionsLabelPosition": "right",
		"inline": false,
		"tableView": true,
		"values": [{
			"value": "approved",
			"label": "Approved",
			"shortcut": ""
		}, {
			"value": "notApproved",
			"label": "Not Approved",
			"shortcut": ""
		}],
		"validate": {
			"required": true
		},
		"key": "cancellationStatus",
		"customConditional": "if (data.privileges){\n  show = data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] != null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] ? true: false;\n}\nelse{\n  show = false;\n}",
		"type": "radio",
		"labelWidth": 30,
		"labelMargin": 3,
		"input": true,
		"lockKey": true
	}, {
		"label": "Reinstatement Criteria",
		"reorder": false,
		"addAnother": "Add More",
		"addAnotherPosition": "bottom",
		"defaultOpen": false,
		"layoutFixed": false,
		"enableRowGroups": false,
		"tableView": false,
		"defaultValue": [{
			"reason": "",
			"criteria": ""
		}],
		"validate": {
			"minLength": 1
		},
		"key": "reinstatementCriteria",
		"conditional": {
			"show": true,
			"when": "cancellationStatus",
			"eq": "approved"
		},
		"type": "datagrid",
		"input": true,
		"components": [{
			"label": "Criteria",
			"hideLabel": true,
			"tableView": true,
			"validate": {
				"required": true,
				"customMessage": "Reinstatement Criteria is required."
			},
			"key": "criteria",
			"type": "textfield",
			"input": true
		}]
	}, {
		"label": "Reason for Cancel Policy Not Approved",
		"autoExpand": false,
		"tableView": true,
		"inputFormat": "plain",
		"validate": {
			"required": true,
			"customMessage": "Please Enter the reason for not Approving the Cancellation of the Policy"
		},
		"key": "reasonforRejection",
		"customConditional": "show = data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] !== null && data.privileges['MANAGE_POLICY_APPROVAL_WRITE'] && data.cancellationStatus == 'notApproved' ? true : false;",
		"type": "textarea",
		"input": true,
		"lockKey": true
	}, {
		"label": "Reason for User Cancellation",
		"calculateValue": "if(data['userCancellationReason']){\n  value = data['userCancellationReason'];\n}",
		"key": "reasonForUserCancellation",
		"type": "hidden",
		"input": true,
		"tableView": false
	}, {
		"label": "Policy Status",
		"calculateValue": "if(data.privileges && data.privileges['MANAGE_MY_POLICY_READ']){\n  value = 'Cancellation Approval Pending';\n}",
		"key": "policyStatus",
		"type": "hidden",
		"input": true,
		"tableView": false
	}, {
		"input": true,
		"label": "Submit",
		"tableView": false,
		"key": "submit",
		"type": "button"
	}],
	"revisions": "original",
	"_vid": 130,
	"title": "Cancel Policy Generic",
	"display": "form",
	"access": [{
		"roles": ["5ce43aa430776b950569301d", "5ce43aa430776b4a5969301e", "5ce43aa430776bdfb569301f"],
		"type": "read_all"
	}],
	"submissionAccess": [],
	"settings": {},
	"properties": {},
	"name": "cancelPolicyGeneric",
	"path": "cancelpolicygeneric",
	"project": "5ce43aa430776b2aff69301c",
	"created": "2020-01-08T05:30:33.387Z",
	"modified": "2020-12-24T09:34:08.074Z",
	"machineName": "testdivehub:cancelPolicyGeneric",
	"controller": ""
}